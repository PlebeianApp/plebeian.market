import{X as ne,Y as le,s as O,p as E,i as T,f as C,E as k,A as _,F as j,x as W,N as S,e as D,c as F,b as se,B as L,O as A,P as M,Q as y,n as U,q as ie,S as ae,k as oe}from"./scheduler.D2KwwdHN.js";import{S as I,i as q,g as G,b,d as Q,t as h,c as V,a as X,m as Y,e as z}from"./index.yWj9ckWW.js";import{g as B,a as p,o as H}from"./utils.DzuHJZus.js";import{o as re,f as fe,g as ue,m as K,s as Z}from"./create.BJa8HUjD.js";import{o as ce}from"./overridable.BRTWenN_.js";import{w as de}from"./index.CU_89pqE.js";import{t as _e,r as me,g as ge}from"./updater.BPyGjDFu.js";import{c as be}from"./attrs.B9zgB7jn.js";const he={src:"",delayMs:0,onLoadingStatusChange:void 0},ke=a=>{const e={...he,...a},l=_e(re(e,"loadingStatus","onLoadingStatusChange")),{src:s,delayMs:t}=l,n=e.loadingStatus??de("loading"),i=ce(n,e==null?void 0:e.onLoadingStatusChange);fe([s,t],([f,u])=>{if(ue){const m=new Image;m.src=f,m.onload=()=>{if(t!==void 0){const v=window.setTimeout(()=>{i.set("loaded")},u);return()=>window.clearTimeout(v)}else i.set("loaded")},m.onerror=()=>{i.set("error")}}});const r=K("avatar-image",{stores:[s,i],returned:([f,u])=>{const m=Z({display:u==="loaded"?"block":"none"});return{src:f,style:m}}}),o=K("avatar-fallback",{stores:[i],returned:([f])=>({style:f==="loaded"?Z({display:"none"}):void 0,hidden:f==="loaded"?!0:void 0})});return{elements:{image:r,fallback:o},states:{loadingStatus:i},options:l}};function J(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function ve(a){const{NAME:e,PARTS:l}=J(),s=be(e,l),t={...ke(me(a)),getAttrs:s};return ne(e,t),{...t,updateOption:ge(t.options)}}function Ce(a=""){const{NAME:e}=J(),l=le(e);return a?l.options.src.set(a):l.options.src.set(""),l}function Se(){const{NAME:a}=J();return le(a)}const Ae=a=>({}),w=a=>({attrs:a[2]}),Me=a=>({}),x=a=>({attrs:a[2]});function ye(a){let e,l;const s=a[8].default,t=S(s,a,a[7],w);let n=[a[3],a[2]],i={};for(let r=0;r<n.length;r+=1)i=_(i,n[r]);return{c(){e=D("div"),t&&t.c(),this.h()},l(r){e=F(r,"DIV",{});var o=se(e);t&&t.l(o),o.forEach(C),this.h()},h(){L(e,i)},m(r,o){T(r,e,o),t&&t.m(e,null),a[9](e),l=!0},p(r,o){t&&t.p&&(!l||o&128)&&A(t,s,r,r[7],l?y(s,r[7],o,Ae):M(r[7]),w),L(e,i=B(n,[o&8&&r[3],r[2]]))},i(r){l||(h(t,r),l=!0)},o(r){b(t,r),l=!1},d(r){r&&C(e),t&&t.d(r),a[9](null)}}}function Ne(a){let e;const l=a[8].default,s=S(l,a,a[7],x);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,n){s&&s.p&&(!e||n&128)&&A(s,l,t,t[7],e?y(l,t[7],n,Me):M(t[7]),x)},i(t){e||(h(s,t),e=!0)},o(t){b(s,t),e=!1},d(t){s&&s.d(t)}}}function Pe(a){let e,l,s,t;const n=[Ne,ye],i=[];function r(o,f){return o[1]?0:1}return e=r(a),l=i[e]=n[e](a),{c(){l.c(),s=E()},l(o){l.l(o),s=E()},m(o,f){i[e].m(o,f),T(o,s,f),t=!0},p(o,[f]){let u=e;e=r(o),e===u?i[e].p(o,f):(G(),b(i[u],1,1,()=>{i[u]=null}),Q(),l=i[e],l?l.p(o,f):(l=i[e]=n[e](o),l.c()),h(l,1),l.m(s.parentNode,s))},i(o){t||(h(l),t=!0)},o(o){b(l),t=!1},d(o){o&&C(s),i[e].d(o)}}}function Ee(a,e,l){const s=["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"];let t=k(e,s),{$$slots:n={},$$scope:i}=e,{delayMs:r=void 0}=e,{loadingStatus:o=void 0}=e,{onLoadingStatusChange:f=void 0}=e,{asChild:u=!1}=e,{el:m=void 0}=e;const{states:{loadingStatus:v},updateOption:N,getAttrs:P}=ve({src:"",delayMs:r,onLoadingStatusChange:({next:c})=>(l(4,o=c),f==null||f(c),c)}),d=P("root");function R(c){W[c?"unshift":"push"](()=>{m=c,l(0,m)})}return a.$$set=c=>{e=_(_({},e),j(c)),l(3,t=k(e,s)),"delayMs"in c&&l(5,r=c.delayMs),"loadingStatus"in c&&l(4,o=c.loadingStatus),"onLoadingStatusChange"in c&&l(6,f=c.onLoadingStatusChange),"asChild"in c&&l(1,u=c.asChild),"el"in c&&l(0,m=c.el),"$$scope"in c&&l(7,i=c.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&o!==void 0&&v.set(o),a.$$.dirty&32&&N("delayMs",r)},[m,u,d,t,o,r,f,i,n,R]}let Le=class extends I{constructor(e){super(),q(this,e,Ee,Pe,O,{delayMs:5,loadingStatus:4,onLoadingStatusChange:6,asChild:1,el:0})}};const pe=a=>({builder:a&8}),$=a=>({builder:a[3]});function Oe(a){let e,l,s,t=[a[3],{alt:a[1]},a[5]],n={};for(let i=0;i<t.length;i+=1)n=_(n,t[i]);return{c(){e=D("img"),this.h()},l(i){e=F(i,"IMG",{alt:!0}),this.h()},h(){L(e,n)},m(i,r){T(i,e,r),a[10](e),l||(s=ae(a[3].action(e)),l=!0)},p(i,r){L(e,n=B(t,[r&8&&i[3],r&2&&{alt:i[1]},r&32&&i[5]]))},i:U,o:U,d(i){i&&C(e),a[10](null),l=!1,s()}}}function Te(a){let e;const l=a[9].default,s=S(l,a,a[8],$);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,n){s&&s.p&&(!e||n&264)&&A(s,l,t,t[8],e?y(l,t[8],n,pe):M(t[8]),$)},i(t){e||(h(s,t),e=!0)},o(t){b(s,t),e=!1},d(t){s&&s.d(t)}}}function je(a){let e,l,s,t;const n=[Te,Oe],i=[];function r(o,f){return o[2]?0:1}return e=r(a),l=i[e]=n[e](a),{c(){l.c(),s=E()},l(o){l.l(o),s=E()},m(o,f){i[e].m(o,f),T(o,s,f),t=!0},p(o,[f]){let u=e;e=r(o),e===u?i[e].p(o,f):(G(),b(i[u],1,1,()=>{i[u]=null}),Q(),l=i[e],l?l.p(o,f):(l=i[e]=n[e](o),l.c()),h(l,1),l.m(s.parentNode,s))},i(o){t||(h(l),t=!0)},o(o){b(l),t=!1},d(o){o&&C(s),i[e].d(o)}}}function Ie(a,e,l){let s,t;const n=["src","alt","asChild","el"];let i=k(e,n),r,o=U,f=()=>(o(),o=ie(s,g=>l(7,r=g)),s);a.$$.on_destroy.push(()=>o());let{$$slots:u={},$$scope:m}=e,{src:v=void 0}=e,{alt:N=void 0}=e,{asChild:P=!1}=e,{el:d=void 0}=e;const R={"data-bits-avatar-image":""};function c(g){W[g?"unshift":"push"](()=>{d=g,l(0,d)})}return a.$$set=g=>{e=_(_({},e),j(g)),l(5,i=k(e,n)),"src"in g&&l(6,v=g.src),"alt"in g&&l(1,N=g.alt),"asChild"in g&&l(2,P=g.asChild),"el"in g&&l(0,d=g.el),"$$scope"in g&&l(8,m=g.$$scope)},a.$$.update=()=>{a.$$.dirty&64&&f(l(4,s=Ce(v).elements.image)),a.$$.dirty&128&&l(3,t=r),a.$$.dirty&8&&Object.assign(t,R)},[d,N,P,t,s,i,v,r,m,u,c]}let qe=class extends I{constructor(e){super(),q(this,e,Ie,je,O,{src:6,alt:1,asChild:2,el:0})}};const Be=a=>({builder:a&4}),ee=a=>({builder:a[2]}),Re=a=>({builder:a&4}),te=a=>({builder:a[2]});function Ue(a){let e,l,s,t;const n=a[7].default,i=S(n,a,a[6],ee);let r=[a[2],a[4]],o={};for(let f=0;f<r.length;f+=1)o=_(o,r[f]);return{c(){e=D("span"),i&&i.c(),this.h()},l(f){e=F(f,"SPAN",{});var u=se(e);i&&i.l(u),u.forEach(C),this.h()},h(){L(e,o)},m(f,u){T(f,e,u),i&&i.m(e,null),a[8](e),l=!0,s||(t=ae(a[2].action(e)),s=!0)},p(f,u){i&&i.p&&(!l||u&68)&&A(i,n,f,f[6],l?y(n,f[6],u,Be):M(f[6]),ee),L(e,o=B(r,[u&4&&f[2],u&16&&f[4]]))},i(f){l||(h(i,f),l=!0)},o(f){b(i,f),l=!1},d(f){f&&C(e),i&&i.d(f),a[8](null),s=!1,t()}}}function We(a){let e;const l=a[7].default,s=S(l,a,a[6],te);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,n){s&&s.p&&(!e||n&68)&&A(s,l,t,t[6],e?y(l,t[6],n,Re):M(t[6]),te)},i(t){e||(h(s,t),e=!0)},o(t){b(s,t),e=!1},d(t){s&&s.d(t)}}}function De(a){let e,l,s,t;const n=[We,Ue],i=[];function r(o,f){return o[1]?0:1}return e=r(a),l=i[e]=n[e](a),{c(){l.c(),s=E()},l(o){l.l(o),s=E()},m(o,f){i[e].m(o,f),T(o,s,f),t=!0},p(o,[f]){let u=e;e=r(o),e===u?i[e].p(o,f):(G(),b(i[u],1,1,()=>{i[u]=null}),Q(),l=i[e],l?l.p(o,f):(l=i[e]=n[e](o),l.c()),h(l,1),l.m(s.parentNode,s))},i(o){t||(h(l),t=!0)},o(o){b(l),t=!1},d(o){o&&C(s),i[e].d(o)}}}function Fe(a,e,l){let s;const t=["asChild","el"];let n=k(e,t),i,{$$slots:r={},$$scope:o}=e,{asChild:f=!1}=e,{el:u=void 0}=e;const{elements:{fallback:m},getAttrs:v}=Se();oe(a,m,d=>l(5,i=d));const N=v("fallback");function P(d){W[d?"unshift":"push"](()=>{u=d,l(0,u)})}return a.$$set=d=>{e=_(_({},e),j(d)),l(4,n=k(e,t)),"asChild"in d&&l(1,f=d.asChild),"el"in d&&l(0,u=d.el),"$$scope"in d&&l(6,o=d.$$scope)},a.$$.update=()=>{a.$$.dirty&32&&l(2,s=i),a.$$.dirty&4&&Object.assign(s,N)},[u,f,s,m,n,i,o,r,P]}let Ge=class extends I{constructor(e){super(),q(this,e,Fe,De,O,{asChild:1,el:0})}};function Qe(a){let e;const l=a[2].default,s=S(l,a,a[3],null);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,n){s&&s.p&&(!e||n&8)&&A(s,l,t,t[3],e?y(l,t[3],n,null):M(t[3]),null)},i(t){e||(h(s,t),e=!0)},o(t){b(s,t),e=!1},d(t){s&&s.d(t)}}}function Ve(a){let e,l;const s=[{class:p("flex h-full w-full items-center justify-center rounded-full bg-muted",a[0])},a[1]];let t={$$slots:{default:[Qe]},$$scope:{ctx:a}};for(let n=0;n<s.length;n+=1)t=_(t,s[n]);return e=new Ge({props:t}),{c(){V(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),l=!0},p(n,[i]){const r=i&3?B(s,[i&1&&{class:p("flex h-full w-full items-center justify-center rounded-full bg-muted",n[0])},i&2&&H(n[1])]):{};i&8&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){z(e,n)}}}function Xe(a,e,l){const s=["class"];let t=k(e,s),{$$slots:n={},$$scope:i}=e,{class:r=void 0}=e;return a.$$set=o=>{e=_(_({},e),j(o)),l(1,t=k(e,s)),"class"in o&&l(0,r=o.class),"$$scope"in o&&l(3,i=o.$$scope)},[r,t,n,i]}class ot extends I{constructor(e){super(),q(this,e,Xe,Ve,O,{class:0})}}function Ye(a){let e,l;const s=[{src:a[1]},{alt:a[2]},{class:p("aspect-square h-full w-full",a[0])},a[3]];let t={};for(let n=0;n<s.length;n+=1)t=_(t,s[n]);return e=new qe({props:t}),{c(){V(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),l=!0},p(n,[i]){const r=i&15?B(s,[i&2&&{src:n[1]},i&4&&{alt:n[2]},i&1&&{class:p("aspect-square h-full w-full",n[0])},i&8&&H(n[3])]):{};e.$set(r)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){z(e,n)}}}function ze(a,e,l){const s=["class","src","alt"];let t=k(e,s),{class:n=void 0}=e,{src:i=void 0}=e,{alt:r=void 0}=e;return a.$$set=o=>{e=_(_({},e),j(o)),l(3,t=k(e,s)),"class"in o&&l(0,n=o.class),"src"in o&&l(1,i=o.src),"alt"in o&&l(2,r=o.alt)},[n,i,r,t]}class rt extends I{constructor(e){super(),q(this,e,ze,Ye,O,{class:0,src:1,alt:2})}}function He(a){let e;const l=a[3].default,s=S(l,a,a[4],null);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,n){s&&s.m(t,n),e=!0},p(t,n){s&&s.p&&(!e||n&16)&&A(s,l,t,t[4],e?y(l,t[4],n,null):M(t[4]),null)},i(t){e||(h(s,t),e=!0)},o(t){b(s,t),e=!1},d(t){s&&s.d(t)}}}function Je(a){let e,l;const s=[{delayMs:a[1]},{class:p("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a[0])},a[2]];let t={$$slots:{default:[He]},$$scope:{ctx:a}};for(let n=0;n<s.length;n+=1)t=_(t,s[n]);return e=new Le({props:t}),{c(){V(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),l=!0},p(n,[i]){const r=i&7?B(s,[i&2&&{delayMs:n[1]},i&1&&{class:p("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n[0])},i&4&&H(n[2])]):{};i&16&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){z(e,n)}}}function Ke(a,e,l){const s=["class","delayMs"];let t=k(e,s),{$$slots:n={},$$scope:i}=e,{class:r=void 0}=e,{delayMs:o=void 0}=e;return a.$$set=f=>{e=_(_({},e),j(f)),l(2,t=k(e,s)),"class"in f&&l(0,r=f.class),"delayMs"in f&&l(1,o=f.delayMs),"$$scope"in f&&l(4,i=f.$$scope)},[r,o,t,n,i]}class ft extends I{constructor(e){super(),q(this,e,Ke,Je,O,{class:0,delayMs:1})}}export{ft as A,rt as a,ot as b};
