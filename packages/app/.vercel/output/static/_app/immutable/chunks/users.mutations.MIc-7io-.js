import{z as a}from"./scheduler.D2KwwdHN.js";import{c as n}from"./createMutation.B3J91szg.js";import"./index.yWj9ckWW.js";import{g as c}from"./entry.CSUZNGMN.js";import{n as o}from"./utils.DzuHJZus.js";import{d as p}from"./session.CYBeGSy4.js";import{c as i,q as u}from"./client.Vo4oKtvm.js";const f=n({mutationKey:[],mutationFn:async e=>{var t;const r=a(o);return(t=r.activeUser)!=null&&t.pubkey?await i(`PUT /api/v1/users/${r.activeUser.pubkey}`,{auth:!0,body:e}):null},onSuccess:e=>{var t,s;const r=a(o);u.invalidateQueries({queryKey:["user",(t=r.activeUser)==null?void 0:t.pubkey]}),u.setQueryData(["user",(s=r.activeUser)==null?void 0:s.pubkey],e)}},u),S=n({mutationFn:async()=>{var t,s;const e=a(o),r=e.getUser({hexpubkey:(t=e.activeUser)==null?void 0:t.pubkey});return(s=e.activeUser)!=null&&s.pubkey?await i(`DELETE /api/v1/users/${r.pubkey}`,{auth:!0}):null},onSuccess:()=>{var r,t;const e=a(o);p((r=e.activeUser)!=null&&r.pubkey?(t=e.activeUser)==null?void 0:t.pubkey:""),delete e.signer,c("/")}},u);export{f as a,S as u};
