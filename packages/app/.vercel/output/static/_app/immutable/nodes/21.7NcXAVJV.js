import{s as on,x as ye,e as I,a as b,t as O,c as S,b as V,g as v,d as R,f as i,l as ot,m as P,i as D,h as u,u as en,w as fn,y as xe,o as Ot,k as cn,v as un,n as Te,r as Gt,p as de,H as $n,j as tn}from"../chunks/scheduler.D2KwwdHN.js";import{S as mn,i as pn,f as et,c as w,a as k,m as E,t as p,d as ft,b as d,e as C,g as ct}from"../chunks/index.yWj9ckWW.js";import{e as Me}from"../chunks/each.DZlyhWDQ.js";import{i as _n}from"../chunks/entry.CSUZNGMN.js";import{p as gn}from"../chunks/stores.CZyAhLLN.js";import{B as He}from"../chunks/index.BtgPWUf5.js";import{C as dn}from"../chunks/checkbox.BFwQ0Z8o.js";import{R as hn,T as bn,P as vn,C as wn,a as kn,b as En,c as Cn}from"../chunks/index.ByOxO62V.js";import"../chunks/create.BJa8HUjD.js";import{t as Jt,b as In,c as Sn,e as tt}from"../chunks/utils.DzuHJZus.js";import{I as rt}from"../chunks/input.DkkLw6xD.js";import{L as je}from"../chunks/label.BOs7Apgt.js";import{R as Dn,S as Pn,a as Vn,V as An,b as Nn}from"../chunks/index.BWukIgvt.js";import{S as at}from"../chunks/separator.CdjR4bq2.js";import{n as Ue}from"../chunks/nip19.DQtFYxnE.js";function Xt(a,e,t){const l=a.slice();return l[26]=e[t],l}function Kt(a,e,t){const l=a.slice();return l[29]=e[t],l}function Qt(a,e,t){const l=a.slice();return l[33]=e[t],l}function jn(a){let e;return{c(){e=I("span"),this.h()},l(t){e=S(t,"SPAN",{class:!0}),V(e).forEach(i),this.h()},h(){P(e,"class","cursor-pointer i-tdesign-arrow-left w-6 h-6")},m(t,l){D(t,e,l)},p:Te,d(t){t&&i(e)}}}function Tn(a){let e;return{c(){e=O("Instance npub")},l(t){e=R(t,"Instance npub")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function On(a){let e,t=Ue(a[7].instancePk)+"",l,n,s;return{c(){e=I("code"),l=O(t),n=b(),s=I("span"),this.h()},l(r){e=S(r,"CODE",{class:!0});var c=V(e);l=R(c,t),c.forEach(i),n=v(r),s=S(r,"SPAN",{class:!0}),V(s).forEach(i),this.h()},h(){P(e,"class","truncate"),P(s,"class","i-tdesign-copy")},m(r,c){D(r,e,c),u(e,l),D(r,n,c),D(r,s,c)},p:Te,d(r){r&&(i(e),i(n),i(s))}}}function Rn(a){let e;return{c(){e=O("Owner npub")},l(t){e=R(t,"Owner npub")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function Bn(a){let e;return{c(){e=O("Instance name")},l(t){e=R(t,"Instance name")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function Ln(a){let e;return{c(){e=O("Logo url")},l(t){e=R(t,"Logo url")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function Hn(a){let e,t="Select logo";return{c(){e=I("span"),e.textContent=t,this.h()},l(l){e=S(l,"SPAN",{class:!0,"data-svelte-h":!0}),ot(e)!=="svelte-1ogezr9"&&(e.textContent=t),this.h()},h(){P(e,"class","opacity-50")},m(l,n){D(l,e,n)},p:Te,d(l){l&&i(e)}}}function Mn(a){var l;let e=(((l=tt.find(a[14]))==null?void 0:l.label)||a[4])+"",t;return{c(){t=O(e)},l(n){t=R(n,e)},m(n,s){D(n,t,s)},p(n,s){var r;s[0]&16&&e!==(e=(((r=tt.find(n[14]))==null?void 0:r.label)||n[4])+"")&&tn(t,e)},d(n){n&&i(t)}}}function Un(a){let e;function t(s,r){return s[7].logoUrl?Mn:Hn}let n=t(a)(a);return{c(){n.c(),e=de()},l(s){n.l(s),e=de()},m(s,r){n.m(s,r),D(s,e,r)},p(s,r){n.p(s,r)},d(s){s&&i(e),n.d(s)}}}function Fn(a){let e,t;return e=new He({props:{builders:[a[36]],variant:"outline",role:"combobox","aria-expanded":a[5],class:"w-full justify-between border-black border-2",$$slots:{default:[Un]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,n){E(e,l,n),t=!0},p(l,n){const s={};n[1]&32&&(s.builders=[l[36]]),n[0]&32&&(s["aria-expanded"]=l[5]),n[0]&16|n[1]&64&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){C(e,l)}}}function qn(a){let e,t=a[33].label+"",l,n;return{c(){e=O(`+
														`),l=O(t),n=b()},l(s){e=R(s,`+
														`),l=R(s,t),n=v(s)},m(s,r){D(s,e,r),D(s,l,r),D(s,n,r)},p:Te,d(s){s&&(i(e),i(l),i(n))}}}function Wt(a){let e,t;function l(...n){return a[16](a[32],...n)}return e=new Cn({props:{value:a[33].value,onSelect:l,$$slots:{default:[qn]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,s){E(e,n,s),t=!0},p(n,s){a=n;const r={};s[0]&16|s[1]&2&&(r.onSelect=l),s[1]&64&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){d(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function zn(a){let e,t,l=Me(tt),n=[];for(let r=0;r<l.length;r+=1)n[r]=Wt(Qt(a,l,r));const s=r=>d(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=de()},l(r){for(let c=0;c<n.length;c+=1)n[c].l(r);e=de()},m(r,c){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(r,c);D(r,e,c),t=!0},p(r,c){if(c[0]&1040|c[1]&2){l=Me(tt);let f;for(f=0;f<l.length;f+=1){const h=Qt(r,l,f);n[f]?(n[f].p(h,c),p(n[f],1)):(n[f]=Wt(h),n[f].c(),p(n[f],1),n[f].m(e.parentNode,e))}for(ct(),f=l.length;f<n.length;f+=1)s(f);ft()}},i(r){if(!t){for(let c=0;c<l.length;c+=1)p(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)d(n[c]);t=!1},d(r){r&&i(e),Ot(n,r)}}}function Gn(a){let e,t,l,n,s;function r(f){a[15](f)}let c={placeholder:"Select logo or introduce image url..."};return a[4]!==void 0&&(c.value=a[4]),e=new kn({props:c}),ye.push(()=>et(e,"value",r)),n=new En({props:{$$slots:{default:[zn]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment),l=b(),w(n.$$.fragment)},l(f){k(e.$$.fragment,f),l=v(f),k(n.$$.fragment,f)},m(f,h){E(e,f,h),D(f,l,h),E(n,f,h),s=!0},p(f,h){const N={};!t&&h[0]&16&&(t=!0,N.value=f[4],xe(()=>t=!1)),e.$set(N);const j={};h[0]&16|h[1]&66&&(j.$$scope={dirty:h,ctx:f}),n.$set(j)},i(f){s||(p(e.$$.fragment,f),p(n.$$.fragment,f),s=!0)},o(f){d(e.$$.fragment,f),d(n.$$.fragment,f),s=!1},d(f){f&&i(l),C(e,f),C(n,f)}}}function Jn(a){let e,t;return e=new wn({props:{$$slots:{default:[Gn]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,n){E(e,l,n),t=!0},p(l,n){const s={};n[0]&16|n[1]&66&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){C(e,l)}}}function Xn(a){let e,t,l,n;return e=new bn({props:{asChild:!0,$$slots:{default:[Fn,({builder:s})=>({36:s}),({builder:s})=>[0,s?32:0]]},$$scope:{ctx:a}}}),l=new vn({props:{class:" p-0",$$slots:{default:[Jn]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment),t=b(),w(l.$$.fragment)},l(s){k(e.$$.fragment,s),t=v(s),k(l.$$.fragment,s)},m(s,r){E(e,s,r),D(s,t,r),E(l,s,r),n=!0},p(s,r){const c={};r[0]&48|r[1]&96&&(c.$$scope={dirty:r,ctx:s}),e.$set(c);const f={};r[0]&16|r[1]&66&&(f.$$scope={dirty:r,ctx:s}),l.$set(f)},i(s){n||(p(e.$$.fragment,s),p(l.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),d(l.$$.fragment,s),n=!1},d(s){s&&i(t),C(e,s),C(l,s)}}}function Yt(a){let e,t,l,n;return{c(){e=I("img"),this.h()},l(s){e=S(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){P(e,"class","max-w-28"),Gt(e.src,t=a[4])||P(e,"src",t),P(e,"alt","logo preview")},m(s,r){D(s,e,r),l||(n=en(e,"error",a[18]),l=!0)},p(s,r){r[0]&16&&!Gt(e.src,t=s[4])&&P(e,"src",t)},d(s){s&&i(e),l=!1,n()}}}function Kn(a){let e;return{c(){e=O("Contact email")},l(t){e=R(t,"Contact email")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function Zt(a){let e,t,l=a[29]+"",n,s,r,c;function f(){return a[19](a[29])}return r=new He({props:{type:"button",size:"icon",variant:"outline",class:" bg-red-500",$$slots:{default:[Qn]},$$scope:{ctx:a}}}),r.$on("click",f),{c(){e=I("div"),t=I("span"),n=O(l),s=b(),w(r.$$.fragment),this.h()},l(h){e=S(h,"DIV",{class:!0});var N=V(e);t=S(N,"SPAN",{class:!0});var j=V(t);n=R(j,l),j.forEach(i),s=v(N),k(r.$$.fragment,N),N.forEach(i),this.h()},h(){P(t,"class","truncate"),P(e,"class","grid grid-cols-[1fr_auto] items-center")},m(h,N){D(h,e,N),u(e,t),u(t,n),u(e,s),E(r,e,null),c=!0},p(h,N){a=h,(!c||N[0]&4)&&l!==(l=a[29]+"")&&tn(n,l);const j={};N[1]&64&&(j.$$scope={dirty:N,ctx:a}),r.$set(j)},i(h){c||(p(r.$$.fragment,h),c=!0)},o(h){d(r.$$.fragment,h),c=!1},d(h){h&&i(e),C(r)}}}function Qn(a){let e;return{c(){e=I("span"),this.h()},l(t){e=S(t,"SPAN",{class:!0}),V(e).forEach(i),this.h()},h(){P(e,"class","i-mdi-trash-can")},m(t,l){D(t,e,l)},p:Te,d(t){t&&i(e)}}}function yt(a){let e=a[29]!=Ue(a[7].instancePk),t,l,n=e&&Zt(a);return{c(){n&&n.c(),t=de()},l(s){n&&n.l(s),t=de()},m(s,r){n&&n.m(s,r),D(s,t,r),l=!0},p(s,r){r[0]&4&&(e=s[29]!=Ue(s[7].instancePk)),e?n?(n.p(s,r),r[0]&4&&p(n,1)):(n=Zt(s),n.c(),p(n,1),n.m(t.parentNode,t)):n&&(ct(),d(n,1,1,()=>{n=null}),ft())},i(s){l||(p(n),l=!0)},o(s){d(n),l=!1},d(s){s&&i(t),n&&n.d(s)}}}function Wn(a){let e;return{c(){e=O("Add Admin")},l(t){e=R(t,"Add Admin")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function Yn(a){let e;return{c(){e=O("Default currency")},l(t){e=R(t,"Default currency")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function Zn(a){let e,t;return e=new An({props:{placeholder:"Currency"}}),{c(){w(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,n){E(e,l,n),t=!0},p:Te,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){C(e,l)}}}function yn(a){let e=a[26]+"",t;return{c(){t=O(e)},l(l){t=R(l,e)},m(l,n){D(l,t,n)},p:Te,d(l){l&&i(t)}}}function xt(a){let e,t;return e=new Nn({props:{value:a[26],$$slots:{default:[yn]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,n){E(e,l,n),t=!0},p(l,n){const s={};n[1]&64&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){C(e,l)}}}function xn(a){let e,t,l=Me(a[6]),n=[];for(let r=0;r<l.length;r+=1)n[r]=xt(Xt(a,l,r));const s=r=>d(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=de()},l(r){for(let c=0;c<n.length;c+=1)n[c].l(r);e=de()},m(r,c){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(r,c);D(r,e,c),t=!0},p(r,c){if(c[0]&64){l=Me(r[6]);let f;for(f=0;f<l.length;f+=1){const h=Xt(r,l,f);n[f]?(n[f].p(h,c),p(n[f],1)):(n[f]=xt(h),n[f].c(),p(n[f],1),n[f].m(e.parentNode,e))}for(ct(),f=l.length;f<n.length;f+=1)s(f);ft()}},i(r){if(!t){for(let c=0;c<l.length;c+=1)p(n[c]);t=!0}},o(r){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)d(n[c]);t=!1},d(r){r&&i(e),Ot(n,r)}}}function el(a){let e,t,l,n;return e=new Pn({props:{class:"border-black border-2",$$slots:{default:[Zn]},$$scope:{ctx:a}}}),l=new Vn({props:{class:"border-black border-2 max-h-[350px] overflow-y-auto",$$slots:{default:[xn]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment),t=b(),w(l.$$.fragment)},l(s){k(e.$$.fragment,s),t=v(s),k(l.$$.fragment,s)},m(s,r){E(e,s,r),D(s,t,r),E(l,s,r),n=!0},p(s,r){const c={};r[1]&64&&(c.$$scope={dirty:r,ctx:s}),e.$set(c);const f={};r[1]&64&&(f.$$scope={dirty:r,ctx:s}),l.$set(f)},i(s){n||(p(e.$$.fragment,s),p(l.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),d(l.$$.fragment,s),n=!1},d(s){s&&i(t),C(e,s),C(l,s)}}}function tl(a){let e;return{c(){e=O("Allow register")},l(t){e=R(t,"Allow register")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function nl(a){let e;return{c(){e=O("Submit")},l(t){e=R(t,"Submit")},m(t,l){D(t,e,l)},d(t){t&&i(e)}}}function ll(a){var qt,zt;let e,t,l,n,s,r,c,f=((qt=a[8])==null?void 0:qt.title)+"",h,N,j,U=((zt=a[8])==null?void 0:zt.description)+"",F,ne,le,K,se,G,Q,Fe,m,re,nt="Identity",qe,J,ze,he,q,Oe,g,H,L,Ge,M,W,Y,z,ut,ae,be,oe,it,Z,$t,mt,ve,pt,fe,_t,we,gt,ke,dt,Re,Rt="Crew",ht,lt,ce,bt,y,vt,wt,x,kt,Ee,Et,Be,Bt="Miscellanea",Ct,ue,ie,$e,It,ee,St,Dt,me,pe,Pt,te,Vt,At,Ce,Nt,_e,Je,jt,Lt;n=new He({props:{size:"icon",variant:"outline",class:" border-none",$$slots:{default:[jn]},$$scope:{ctx:a}}}),n.$on("click",a[12]),Q=new at({props:{class:" my-2"}}),J=new je({props:{class:"truncate font-bold",$$slots:{default:[Tn]},$$scope:{ctx:a}}}),q=new He({props:{variant:"outline",class:"flex gap-1 p-2 border-black border-2",$$slots:{default:[On]},$$scope:{ctx:a}}}),q.$on("click",a[13]),g=new je({props:{class:"truncate font-bold",$$slots:{default:[Rn]},$$scope:{ctx:a}}}),L=new rt({props:{value:a[7].ownerPk?Ue(a[7].ownerPk):"",class:" border-black border-2",name:"ownerPk",placeholder:"owner npub",type:"text"}}),W=new je({props:{class:"truncate font-bold",$$slots:{default:[Bn]},$$scope:{ctx:a}}}),z=new rt({props:{value:a[7].instanceName,class:"border-black border-2",name:"instanceName",placeholder:"instance name",type:"text"}}),oe=new je({props:{class:"truncate font-bold",$$slots:{default:[Ln]},$$scope:{ctx:a}}});function nn(o){a[17](o)}let Ht={$$slots:{default:[Xn,({ids:o})=>({32:o}),({ids:o})=>[0,o?2:0]]},$$scope:{ctx:a}};a[5]!==void 0&&(Ht.open=a[5]),Z=new hn({props:Ht}),ye.push(()=>et(Z,"open",nn));let B=a[4]&&Yt(a);fe=new je({props:{class:"truncate font-bold",$$slots:{default:[Kn]},$$scope:{ctx:a}}}),we=new rt({props:{value:a[7].contactEmail,class:"border-black border-2",name:"contactEmail",placeholder:"contact email",type:"email"}}),ke=new at({props:{class:" my-2"}});let Ie=Me(a[2]),A=[];for(let o=0;o<Ie.length;o+=1)A[o]=yt(Kt(a,Ie,o));const ln=o=>d(A[o],1,1,()=>{A[o]=null});function sn(o){a[20](o)}let Mt={type:"text"};a[3]!==void 0&&(Mt.value=a[3]),y=new rt({props:Mt}),ye.push(()=>et(y,"value",sn)),x=new He({props:{type:"button",$$slots:{default:[Wn]},$$scope:{ctx:a}}}),x.$on("click",a[21]),Ee=new at({props:{class:" my-2"}}),$e=new je({props:{class:"truncate font-bold",$$slots:{default:[Yn]},$$scope:{ctx:a}}});function rn(o){a[22](o)}let Ut={name:"defaultCurrency",$$slots:{default:[el]},$$scope:{ctx:a}};a[1]!==void 0&&(Ut.selected=a[1]),ee=new Dn({props:Ut}),ye.push(()=>et(ee,"selected",rn)),pe=new je({props:{class:"truncate font-bold",$$slots:{default:[tl]},$$scope:{ctx:a}}});function an(o){a[23](o)}let Ft={required:!0,class:"border-black border-2",name:"allowRegister",placeholder:"allow register"};return a[0]!==void 0&&(Ft.checked=a[0]),te=new dn({props:Ft}),ye.push(()=>et(te,"checked",an)),Ce=new at({props:{class:"max-w-2xl my-8"}}),_e=new He({props:{type:"submit",class:"w-full",$$slots:{default:[nl]},$$scope:{ctx:a}}}),{c(){e=I("div"),t=I("div"),l=I("div"),w(n.$$.fragment),s=b(),r=I("section"),c=I("h3"),h=O(f),N=b(),j=I("p"),F=O(U),ne=b(),le=I("div"),K=I("main"),se=I("div"),G=I("div"),w(Q.$$.fragment),Fe=b(),m=I("form"),re=I("h3"),re.textContent=nt,qe=b(),w(J.$$.fragment),ze=b(),he=I("div"),w(q.$$.fragment),Oe=b(),w(g.$$.fragment),H=b(),w(L.$$.fragment),Ge=b(),M=I("div"),w(W.$$.fragment),Y=b(),w(z.$$.fragment),ut=b(),ae=I("div"),be=I("div"),w(oe.$$.fragment),it=b(),w(Z.$$.fragment),mt=b(),ve=I("div"),B&&B.c(),pt=b(),w(fe.$$.fragment),_t=b(),w(we.$$.fragment),gt=b(),w(ke.$$.fragment),dt=b(),Re=I("h3"),Re.textContent=Rt,ht=b();for(let o=0;o<A.length;o+=1)A[o].c();lt=b(),ce=I("textarea"),bt=b(),w(y.$$.fragment),wt=b(),w(x.$$.fragment),kt=b(),w(Ee.$$.fragment),Et=b(),Be=I("h3"),Be.textContent=Bt,Ct=b(),ue=I("div"),ie=I("div"),w($e.$$.fragment),It=b(),w(ee.$$.fragment),Dt=b(),me=I("div"),w(pe.$$.fragment),Pt=b(),w(te.$$.fragment),At=b(),w(Ce.$$.fragment),Nt=b(),w(_e.$$.fragment),this.h()},l(o){e=S(o,"DIV",{class:!0});var $=V(e);t=S($,"DIV",{});var X=V(t);l=S(X,"DIV",{class:!0});var Se=V(l);k(n.$$.fragment,Se),s=v(Se),r=S(Se,"SECTION",{});var De=V(r);c=S(De,"H3",{class:!0});var Xe=V(c);h=R(Xe,f),Xe.forEach(i),N=v(De),j=S(De,"P",{class:!0});var Ke=V(j);F=R(Ke,U),Ke.forEach(i),De.forEach(i),Se.forEach(i),X.forEach(i),ne=v($),le=S($,"DIV",{class:!0});var Qe=V(le);K=S(Qe,"MAIN",{class:!0});var Le=V(K);se=S(Le,"DIV",{class:!0});var We=V(se);G=S(We,"DIV",{class:!0});var Pe=V(G);k(Q.$$.fragment,Pe),Fe=v(Pe),m=S(Pe,"FORM",{class:!0});var _=V(m);re=S(_,"H3",{"data-svelte-h":!0}),ot(re)!=="svelte-p6voya"&&(re.textContent=nt),qe=v(_),k(J.$$.fragment,_),ze=v(_),he=S(_,"DIV",{});var Ye=V(he);k(q.$$.fragment,Ye),Ye.forEach(i),Oe=v(_),k(g.$$.fragment,_),H=v(_),k(L.$$.fragment,_),Ge=v(_),M=S(_,"DIV",{class:!0});var ge=V(M);k(W.$$.fragment,ge),Y=v(ge),k(z.$$.fragment,ge),ge.forEach(i),ut=v(_),ae=S(_,"DIV",{class:!0});var Ve=V(ae);be=S(Ve,"DIV",{});var Ae=V(be);k(oe.$$.fragment,Ae),it=v(Ae),k(Z.$$.fragment,Ae),Ae.forEach(i),mt=v(Ve),ve=S(Ve,"DIV",{class:!0});var Ze=V(ve);B&&B.l(Ze),Ze.forEach(i),Ve.forEach(i),pt=v(_),k(fe.$$.fragment,_),_t=v(_),k(we.$$.fragment,_),gt=v(_),k(ke.$$.fragment,_),dt=v(_),Re=S(_,"H3",{"data-svelte-h":!0}),ot(Re)!=="svelte-spejhp"&&(Re.textContent=Rt),ht=v(_);for(let Tt=0;Tt<A.length;Tt+=1)A[Tt].l(_);lt=v(_),ce=S(_,"TEXTAREA",{name:!0}),V(ce).forEach(i),bt=v(_),k(y.$$.fragment,_),wt=v(_),k(x.$$.fragment,_),kt=v(_),k(Ee.$$.fragment,_),Et=v(_),Be=S(_,"H3",{"data-svelte-h":!0}),ot(Be)!=="svelte-opwavo"&&(Be.textContent=Bt),Ct=v(_),ue=S(_,"DIV",{class:!0});var T=V(ue);ie=S(T,"DIV",{class:!0});var Ne=V(ie);k($e.$$.fragment,Ne),It=v(Ne),k(ee.$$.fragment,Ne),Ne.forEach(i),Dt=v(T),me=S(T,"DIV",{class:!0});var st=V(me);k(pe.$$.fragment,st),Pt=v(st),k(te.$$.fragment,st),st.forEach(i),T.forEach(i),At=v(_),k(Ce.$$.fragment,_),Nt=v(_),k(_e.$$.fragment,_),_.forEach(i),Pe.forEach(i),We.forEach(i),Le.forEach(i),Qe.forEach(i),$.forEach(i),this.h()},h(){P(c,"class","text-lg font-bold"),P(j,"class","text-gray-600"),P(l,"class","flex items-center gap-1"),P(M,"class","flex-grow"),P(ve,"class","self-center"),P(ae,"class","flex flex-col gap-2"),P(ce,"name","adminsList"),ce.value=a[2],ce.hidden=!0,P(ie,"class","flex-grow"),P(me,"class","flex flex-col items-center justify-center gap-3"),P(ue,"class","flex flex-row items-center justify-center gap-4"),P(m,"class","max-w-2xl flex flex-col gap-3"),P(G,"class","container"),P(se,"class",""),P(K,"class","text-black"),P(le,"class","flex flex-col gap-2 overflow-auto"),P(e,"class","pb-4 space-y-2 max-w-2xl")},m(o,$){D(o,e,$),u(e,t),u(t,l),E(n,l,null),u(l,s),u(l,r),u(r,c),u(c,h),u(r,N),u(r,j),u(j,F),u(e,ne),u(e,le),u(le,K),u(K,se),u(se,G),E(Q,G,null),u(G,Fe),u(G,m),u(m,re),u(m,qe),E(J,m,null),u(m,ze),u(m,he),E(q,he,null),u(m,Oe),E(g,m,null),u(m,H),E(L,m,null),u(m,Ge),u(m,M),E(W,M,null),u(M,Y),E(z,M,null),u(m,ut),u(m,ae),u(ae,be),E(oe,be,null),u(be,it),E(Z,be,null),u(ae,mt),u(ae,ve),B&&B.m(ve,null),u(m,pt),E(fe,m,null),u(m,_t),E(we,m,null),u(m,gt),E(ke,m,null),u(m,dt),u(m,Re),u(m,ht);for(let X=0;X<A.length;X+=1)A[X]&&A[X].m(m,null);u(m,lt),u(m,ce),u(m,bt),E(y,m,null),u(m,wt),E(x,m,null),u(m,kt),E(Ee,m,null),u(m,Et),u(m,Be),u(m,Ct),u(m,ue),u(ue,ie),E($e,ie,null),u(ie,It),E(ee,ie,null),u(ue,Dt),u(ue,me),E(pe,me,null),u(me,Pt),E(te,me,null),u(m,At),E(Ce,m,null),u(m,Nt),E(_e,m,null),Je=!0,jt||(Lt=en(m,"submit",fn(a[9])),jt=!0)},p(o,$){const X={};$[1]&64&&(X.$$scope={dirty:$,ctx:o}),n.$set(X);const Se={};$[1]&64&&(Se.$$scope={dirty:$,ctx:o}),J.$set(Se);const De={};$[1]&64&&(De.$$scope={dirty:$,ctx:o}),q.$set(De);const Xe={};$[1]&64&&(Xe.$$scope={dirty:$,ctx:o}),g.$set(Xe);const Ke={};$[1]&64&&(Ke.$$scope={dirty:$,ctx:o}),W.$set(Ke);const Qe={};$[1]&64&&(Qe.$$scope={dirty:$,ctx:o}),oe.$set(Qe);const Le={};$[0]&48|$[1]&66&&(Le.$$scope={dirty:$,ctx:o}),!$t&&$[0]&32&&($t=!0,Le.open=o[5],xe(()=>$t=!1)),Z.$set(Le),o[4]?B?B.p(o,$):(B=Yt(o),B.c(),B.m(ve,null)):B&&(B.d(1),B=null);const We={};if($[1]&64&&(We.$$scope={dirty:$,ctx:o}),fe.$set(We),$[0]&132){Ie=Me(o[2]);let T;for(T=0;T<Ie.length;T+=1){const Ne=Kt(o,Ie,T);A[T]?(A[T].p(Ne,$),p(A[T],1)):(A[T]=yt(Ne),A[T].c(),p(A[T],1),A[T].m(m,lt))}for(ct(),T=Ie.length;T<A.length;T+=1)ln(T);ft()}(!Je||$[0]&4)&&(ce.value=o[2]);const Pe={};!vt&&$[0]&8&&(vt=!0,Pe.value=o[3],xe(()=>vt=!1)),y.$set(Pe);const _={};$[1]&64&&(_.$$scope={dirty:$,ctx:o}),x.$set(_);const Ye={};$[1]&64&&(Ye.$$scope={dirty:$,ctx:o}),$e.$set(Ye);const ge={};$[1]&64&&(ge.$$scope={dirty:$,ctx:o}),!St&&$[0]&2&&(St=!0,ge.selected=o[1],xe(()=>St=!1)),ee.$set(ge);const Ve={};$[1]&64&&(Ve.$$scope={dirty:$,ctx:o}),pe.$set(Ve);const Ae={};!Vt&&$[0]&1&&(Vt=!0,Ae.checked=o[0],xe(()=>Vt=!1)),te.$set(Ae);const Ze={};$[1]&64&&(Ze.$$scope={dirty:$,ctx:o}),_e.$set(Ze)},i(o){if(!Je){p(n.$$.fragment,o),p(Q.$$.fragment,o),p(J.$$.fragment,o),p(q.$$.fragment,o),p(g.$$.fragment,o),p(L.$$.fragment,o),p(W.$$.fragment,o),p(z.$$.fragment,o),p(oe.$$.fragment,o),p(Z.$$.fragment,o),p(fe.$$.fragment,o),p(we.$$.fragment,o),p(ke.$$.fragment,o);for(let $=0;$<Ie.length;$+=1)p(A[$]);p(y.$$.fragment,o),p(x.$$.fragment,o),p(Ee.$$.fragment,o),p($e.$$.fragment,o),p(ee.$$.fragment,o),p(pe.$$.fragment,o),p(te.$$.fragment,o),p(Ce.$$.fragment,o),p(_e.$$.fragment,o),Je=!0}},o(o){d(n.$$.fragment,o),d(Q.$$.fragment,o),d(J.$$.fragment,o),d(q.$$.fragment,o),d(g.$$.fragment,o),d(L.$$.fragment,o),d(W.$$.fragment,o),d(z.$$.fragment,o),d(oe.$$.fragment,o),d(Z.$$.fragment,o),d(fe.$$.fragment,o),d(we.$$.fragment,o),d(ke.$$.fragment,o),A=A.filter(Boolean);for(let $=0;$<A.length;$+=1)d(A[$]);d(y.$$.fragment,o),d(x.$$.fragment,o),d(Ee.$$.fragment,o),d($e.$$.fragment,o),d(ee.$$.fragment,o),d(pe.$$.fragment,o),d(te.$$.fragment,o),d(Ce.$$.fragment,o),d(_e.$$.fragment,o),Je=!1},d(o){o&&i(e),C(n),C(Q),C(J),C(q),C(g),C(L),C(W),C(z),C(oe),C(Z),B&&B.d(),C(fe),C(we),C(ke),Ot(A,o),C(y),C(x),C(Ee),C($e),C(ee),C(pe),C(te),C(Ce),C(_e),jt=!1,Lt()}}}function sl(a,e,t){var Oe;let l;cn(a,gn,g=>t(24,l=g));let{data:n}=e;const{adminUsers:s,currencies:r,appSettings:c}=n,f=(Oe=n.menuItems.find(g=>g.value==="app-settings"))==null?void 0:Oe.links.find(g=>g.href===l.url.pathname);let h=c.allowRegister,N={value:"BTC",label:"BTC"},j=s.map(g=>Ue(g)),U="",F="",ne=!1;async function le(g){const H=new FormData(g.currentTarget),L=Object.fromEntries(H.entries());L.allowRegister=h.toString(),L.defaultCurrency=N.value,L.logoUrl=F,L.instancePk=Ue(c.instancePk);const Ge=Object.fromEntries(Object.entries(L).filter(([Y,z])=>z!=="")),M=await fetch(l.url.pathname,{method:"PUT",body:JSON.stringify(Ge)});if(!M.ok){const Y=await M.json();console.log("error",Y),Y.issues.length>0?Y.issues.forEach(z=>{Jt.error(z.message)}):console.error("Failed to submit form",Y);return}await M.json()&&(Jt.success("App settings successfully updated!"),_n())}function K(g){t(5,ne=!1),$n().then(()=>{var H;(H=document.getElementById(g))==null||H.focus()})}un(()=>{t(4,F=c.logoUrl),t(1,N={value:c.defaultCurrency,label:c.defaultCurrency})});const se=()=>In(),G=()=>Sn(c.instancePk),Q=g=>g.value===F;function Fe(g){F=g,t(4,F)}const m=(g,H)=>{t(4,F=H),K(g.trigger)};function re(g){ne=g,t(5,ne)}const nt=g=>{g.target instanceof HTMLImageElement&&(g.target.src=tt[0].value)},qe=g=>t(2,j=j.filter(H=>H!==g));function J(g){U=g,t(3,U)}const ze=()=>{t(3,U=U.trim()),U&&(t(2,j=[...j,U]),t(3,U=""))};function he(g){N=g,t(1,N)}function q(g){h=g,t(0,h)}return a.$$set=g=>{"data"in g&&t(11,n=g.data)},[h,N,j,U,F,ne,r,c,f,le,K,n,se,G,Q,Fe,m,re,nt,qe,J,ze,he,q]}class vl extends mn{constructor(e){super(),pn(this,e,sl,ll,on,{data:11},null,[-1,-1])}}export{vl as component};
